{"version":3,"sources":["../src/index.ts","../src/lib/color-scheme.ts","../src/lib/material-you-targets.ts","../src/lib/utils.ts"],"sourcesContent":["export { getColorScheme } from \"./lib/color-scheme\";\r\nexport {\r\n\tMonetColorScheme as ColorScheme,\r\n\tMonetColorSwatch as ColorSwatch,\r\n\tShadeNames,\r\n\tSwatchNames,\r\n} from \"./lib/types\";\r\n","import { formatHex, oklch } from \"culori\";\r\nimport { getMaterialYouTargets } from \"./material-you-targets\";\r\nimport {\r\n\tColorScheme,\r\n\tColorSwatch,\r\n\tCuloriColor,\r\n\tHexColor,\r\n\tMonetColorScheme,\r\n\tMonetColorSwatch,\r\n} from \"./types\";\r\nimport { clampNumber } from \"./utils\";\r\n\r\nconst ACCENT3_HUE_SHIFT = 60;\r\n\r\ntype OptionsType = {\r\n\ttargets: ColorScheme;\r\n\tchromaFactor: number;\r\n};\r\n\r\nconst transformColor = (\r\n\ttarget: CuloriColor,\r\n\tseed: CuloriColor,\r\n\treference: CuloriColor\r\n) => {\r\n\tconst l = target.l;\r\n\tconst scaleC =\r\n\t\treference.c === 0 ? 0 : clampNumber(seed.c, 0, reference.c) / reference.c;\r\n\tconst c = target.c * scaleC;\r\n\tconst h = seed.h;\r\n\treturn formatHex(oklch({ l, c, h }));\r\n};\r\n\r\nconst transformSwatch = (\r\n\ttarget: ColorSwatch,\r\n\tseed: CuloriColor,\r\n\treference: ColorSwatch\r\n) =>\r\n\tObject.entries(target).reduce(\r\n\t\t(swatch, [shade, color]) => ({\r\n\t\t\t...swatch,\r\n\t\t\t[shade]: transformColor(\r\n\t\t\t\tcolor,\r\n\t\t\t\tseed,\r\n\t\t\t\treference[shade as unknown as keyof typeof reference]\r\n\t\t\t),\r\n\t\t}),\r\n\t\t{} as MonetColorSwatch\r\n\t);\r\n\r\nexport const getColorScheme = (\r\n\tseedColor: HexColor,\r\n\topts?: OptionsType\r\n): MonetColorScheme => {\r\n\tconst _seedColor = oklch(seedColor);\r\n\tconst _chromaFactor = opts?.chromaFactor || 1;\r\n\tconst _targets = opts?.targets || getMaterialYouTargets(_chromaFactor);\r\n\r\n\tconst seedNeutral = { ..._seedColor, c: _seedColor.c * _chromaFactor };\r\n\tconst seedAccent = seedNeutral;\r\n\r\n\tconst accent1 = transformSwatch(\r\n\t\t_targets.accent1,\r\n\t\tseedAccent,\r\n\t\t_targets.accent1\r\n\t);\r\n\tconst accent2 = transformSwatch(\r\n\t\t_targets.accent2,\r\n\t\tseedAccent,\r\n\t\t_targets.accent1\r\n\t);\r\n\tconst accent3 = transformSwatch(\r\n\t\t_targets.accent3,\r\n\t\t{ ...seedAccent, h: seedAccent.h + ACCENT3_HUE_SHIFT },\r\n\t\t_targets.accent1\r\n\t);\r\n\r\n\tconst neutral1 = transformSwatch(\r\n\t\t_targets.neutral1,\r\n\t\tseedNeutral,\r\n\t\t_targets.neutral1\r\n\t);\r\n\tconst neutral2 = transformSwatch(\r\n\t\t_targets.neutral2,\r\n\t\tseedNeutral,\r\n\t\t_targets.neutral1\r\n\t);\r\n\r\n\treturn {\r\n\t\taccent1,\r\n\t\taccent2,\r\n\t\taccent3,\r\n\t\tneutral1,\r\n\t\tneutral2,\r\n\t};\r\n};\r\n","import { oklch } from \"culori\";\r\nimport { ColorScheme, ColorSwatch, ShadeNames } from \"./types\";\r\n\r\nconst LIGHTNESS_MAP: Record<ShadeNames, number> = {\r\n\t0: 1.0,\r\n\t10: 0.9880873963836093,\r\n\t50: 0.9551400440214246,\r\n\t100: 0.9127904082618294,\r\n\t200: 0.8265622041716898,\r\n\t300: 0.7412252673769428,\r\n\t400: 0.653350946076347,\r\n\t500: 0.5624050605208273,\r\n\t600: 0.48193149058901036,\r\n\t700: 0.39417829080418526,\r\n\t800: 0.3091856317280812,\r\n\t900: 0.22212874192541768,\r\n\t1000: 0.0,\r\n};\r\n\r\nconst ACCENT1_CHROMA = 0.1328123146401862;\r\nconst ACCENT2_CHROMA = ACCENT1_CHROMA / 3;\r\nconst ACCENT3_CHROMA = ACCENT2_CHROMA * 2;\r\n\r\nconst NEUTRAL1_CHROMA = ACCENT1_CHROMA / 12;\r\nconst NEUTRAL2_CHROMA = NEUTRAL1_CHROMA * 2;\r\n\r\nconst getShadesWithChroma = (chroma: number): ColorSwatch =>\r\n\tObject.entries(LIGHTNESS_MAP).reduce(\r\n\t\t(swatch, [shade, lightness]) => ({\r\n\t\t\t...swatch,\r\n\t\t\t[shade]: oklch({\r\n\t\t\t\tl: lightness,\r\n\t\t\t\tc: chroma,\r\n\t\t\t\th: 0,\r\n\t\t\t}),\r\n\t\t}),\r\n\t\t{} as ColorSwatch\r\n\t);\r\nexport const getMaterialYouTargets = (chromaFactor = 1.0): ColorScheme => ({\r\n\taccent1: getShadesWithChroma(ACCENT1_CHROMA * chromaFactor),\r\n\taccent2: getShadesWithChroma(ACCENT2_CHROMA * chromaFactor),\r\n\taccent3: getShadesWithChroma(ACCENT3_CHROMA * chromaFactor),\r\n\tneutral1: getShadesWithChroma(NEUTRAL1_CHROMA * chromaFactor),\r\n\tneutral2: getShadesWithChroma(NEUTRAL2_CHROMA * chromaFactor),\r\n});\r\n","export const clampNumber = (num: number, a: number, b: number) =>\r\n\tMath.max(Math.min(num, Math.max(a, b)), Math.min(a, b));\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACAA,IAAAA,iBAAiC;;;ACAjC,oBAAsB;AAGtB,IAAM,gBAA4C;AAAA,EACjD,GAAG;AAAA,EACH,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,KAAK;AAAA,EACL,KAAK;AAAA,EACL,KAAK;AAAA,EACL,KAAK;AAAA,EACL,KAAK;AAAA,EACL,KAAK;AAAA,EACL,KAAK;AAAA,EACL,KAAK;AAAA,EACL,KAAK;AAAA,EACL,KAAM;AACP;AAEA,IAAM,iBAAiB;AACvB,IAAM,iBAAiB,iBAAiB;AACxC,IAAM,iBAAiB,iBAAiB;AAExC,IAAM,kBAAkB,iBAAiB;AACzC,IAAM,kBAAkB,kBAAkB;AAE1C,IAAM,sBAAsB,CAAC,WAC5B,OAAO,QAAQ,aAAa,EAAE;AAAA,EAC7B,CAAC,QAAQ,CAAC,OAAO,SAAS,OAAO;AAAA,IAChC,GAAG;AAAA,IACH,CAAC,YAAQ,qBAAM;AAAA,MACd,GAAG;AAAA,MACH,GAAG;AAAA,MACH,GAAG;AAAA,IACJ,CAAC;AAAA,EACF;AAAA,EACA,CAAC;AACF;AACM,IAAM,wBAAwB,CAAC,eAAe,OAAsB;AAAA,EAC1E,SAAS,oBAAoB,iBAAiB,YAAY;AAAA,EAC1D,SAAS,oBAAoB,iBAAiB,YAAY;AAAA,EAC1D,SAAS,oBAAoB,iBAAiB,YAAY;AAAA,EAC1D,UAAU,oBAAoB,kBAAkB,YAAY;AAAA,EAC5D,UAAU,oBAAoB,kBAAkB,YAAY;AAC7D;;;AC5CO,IAAM,cAAc,CAAC,KAAa,GAAW,MACnD,KAAK,IAAI,KAAK,IAAI,KAAK,KAAK,IAAI,GAAG,CAAC,CAAC,GAAG,KAAK,IAAI,GAAG,CAAC,CAAC;;;AFWvD,IAAM,oBAAoB;AAO1B,IAAM,iBAAiB,CACtB,QACA,MACA,cACI;AACJ,QAAM,IAAI,OAAO;AACjB,QAAM,SACL,UAAU,MAAM,IAAI,IAAI,YAAY,KAAK,GAAG,GAAG,UAAU,CAAC,IAAI,UAAU;AACzE,QAAM,IAAI,OAAO,IAAI;AACrB,QAAM,IAAI,KAAK;AACf,aAAO,8BAAU,sBAAM,EAAE,GAAG,GAAG,EAAE,CAAC,CAAC;AACpC;AAEA,IAAM,kBAAkB,CACvB,QACA,MACA,cAEA,OAAO,QAAQ,MAAM,EAAE;AAAA,EACtB,CAAC,QAAQ,CAAC,OAAO,KAAK,OAAO;AAAA,IAC5B,GAAG;AAAA,IACH,CAAC,QAAQ;AAAA,MACR;AAAA,MACA;AAAA,MACA,UAAU;AAAA,IACX;AAAA,EACD;AAAA,EACA,CAAC;AACF;AAEM,IAAM,iBAAiB,CAC7B,WACA,SACsB;AACtB,QAAM,iBAAa,sBAAM,SAAS;AAClC,QAAM,iBAAgB,6BAAM,iBAAgB;AAC5C,QAAM,YAAW,6BAAM,YAAW,sBAAsB,aAAa;AAErE,QAAM,cAAc,EAAE,GAAG,YAAY,GAAG,WAAW,IAAI,cAAc;AACrE,QAAM,aAAa;AAEnB,QAAM,UAAU;AAAA,IACf,SAAS;AAAA,IACT;AAAA,IACA,SAAS;AAAA,EACV;AACA,QAAM,UAAU;AAAA,IACf,SAAS;AAAA,IACT;AAAA,IACA,SAAS;AAAA,EACV;AACA,QAAM,UAAU;AAAA,IACf,SAAS;AAAA,IACT,EAAE,GAAG,YAAY,GAAG,WAAW,IAAI,kBAAkB;AAAA,IACrD,SAAS;AAAA,EACV;AAEA,QAAM,WAAW;AAAA,IAChB,SAAS;AAAA,IACT;AAAA,IACA,SAAS;AAAA,EACV;AACA,QAAM,WAAW;AAAA,IAChB,SAAS;AAAA,IACT;AAAA,IACA,SAAS;AAAA,EACV;AAEA,SAAO;AAAA,IACN;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACD;AACD;","names":["import_culori"]}